# G.O.S. Phytotron Node - Zephyr Project Configuration
# Target: nRF52840 DK/Dongle with OpenThread

# --- CORE ---
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_HEAP_MEM_POOL_SIZE=16384

# --- NETWORKING: OpenThread ---
CONFIG_NETWORKING=y
CONFIG_NET_L2_OPENTHREAD=y
CONFIG_OPENTHREAD_NORDIC_LIBRARY_MTD=y
CONFIG_OPENTHREAD_MTD=y
CONFIG_OPENTHREAD_FTD=n

# Thread Role: Sleepy End Device (Battery Optimized)
CONFIG_OPENTHREAD_MTD_SED=y
CONFIG_OPENTHREAD_POLL_PERIOD=1000

# Thread Network Configuration
CONFIG_OPENTHREAD_CHANNEL=15
CONFIG_OPENTHREAD_PANID=0x1234
CONFIG_OPENTHREAD_NETWORK_NAME="GOS_PHYTOTRON"
CONFIG_OPENTHREAD_XPANID="de:ad:00:be:ef:00:ca:fe"
CONFIG_OPENTHREAD_NETWORKKEY="00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff"

# CoAP for sensor data transmission
CONFIG_OPENTHREAD_COAP=y
CONFIG_COAP=y
CONFIG_COAP_CLIENT=y

# --- SENSORS: I2C ---
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_SHT4X=y
CONFIG_SHT4X_TRIGGER_NONE=y
CONFIG_TSL2591=y

# --- LED CONTROL: PWM ---
CONFIG_PWM=y
CONFIG_LED=y
CONFIG_LED_PWM=y

# --- POWER MANAGEMENT ---
CONFIG_PM=y
CONFIG_PM_DEVICE=y
CONFIG_PM_DEVICE_RUNTIME=y

# --- BATTERY MONITORING: ADC ---
CONFIG_ADC=y

# --- FLASH STORAGE (For mesh outage resilience) ---
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# --- LOGGING ---
CONFIG_LOG=y
CONFIG_LOG_MODE_MINIMAL=y
CONFIG_OPENTHREAD_DEBUG=n

# --- SHELL (Disable for production to save power) ---
CONFIG_SHELL=n
CONFIG_UART_CONSOLE=y

# --- CRYPTO ---
CONFIG_MBEDTLS=y
CONFIG_MBEDTLS_BUILTIN=y

# --- DEBUG (Disable for production) ---
CONFIG_ASSERT=n
CONFIG_DEBUG_OPTIMIZATIONS=n
CONFIG_SIZE_OPTIMIZATIONS=y
